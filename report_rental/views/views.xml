<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="rental_notify_id" model="res.groups">
            <field name="name">Rental Notify</field>

        </record>

        <record model="ir.cron" id="send_notify_rental_report_id">
            <field name="name">send notify rental report</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="model_id" ref="model_rental_details"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="state">code</field>
            <field name="code">model.button_send_notify_rental_report_id()</field>
        </record>

        <!-- Inherit Form View to Modify it -->
        <record id="product_template_add_is_service_id" model="ir.ui.view">
            <field name="name">product.template.add.is_service</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook" position="inside">
                    <!-- Add your fields or attributes here -->
                    <page name="description" string="Description">
                        <group>
                            <field name="owner" invisible="1"/>
                            <field name="partner_ids" widget="many2many_tags" invisible="0"/>
                            <field name="sales_person_ids" widget="many2many_tags" invisible="1"/>
                            <field name="collection_officer"/>
                            <field name="tax_position"/>
                            <field name="land_space"/>
                            <field name="real_estate_space"/>
                            <field name="number_of_floors"/>
                            <field name="apartment_description"/>
                            <field name="apartment_state_id" widget="many2many_tags"/>

                        </group>
                    </page>
                    <page name="utility" string="Utility">
                        <group>
                            <field name="unit_phone" />
                            <field name="unit_net" />
                            <field name="gas_meter_number" />
                            <field name="payment_code_gas" />
                            <field name="water_meter_number" />
                            <field name="payment_code_water" />
                            <field name="electricity_meter_number" />
                            <field name="payment_code_electricity" />


                        </group>
                    </page>
                </xpath>

                <xpath expr="//field[@name='categ_id']" position="after">
                    <!-- Add your fields or attributes here -->
                    <field name="is_service"/>
                    <field name="is_insurance"/>
                    <field name="is_sales_use" invisible="1"/>

                </xpath>

            </field>
        </record>

        <!-- Inherit Form View to Modify it -->
        <record id="product_template_add_account_is_service_id" model="ir.ui.view">
            <field name="name">product.template.account.is_service</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="account.product_template_form_view"/>
            <field name="arch" type="xml">


                <xpath expr="//group[@name='accounting']" position="after">
                    <!-- Add your fields or attributes here -->
                    <group>
                        <field name="analytic_account_id"/>
                        <field name="analytic_tag_ids" widget="many2many_tags"/>
                    </group>


                </xpath>

            </field>
        </record>

        <!-- Inherit Form View to Modify it -->
        <record id="sale_order_add_pay_method_id" model="ir.ui.view">
            <field name="name">sale.order.add.pay_method</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='partner_id']" position="after">
                    <!-- Add your fields or attributes here -->
                    <field name="lessor_ids" widget="many2many_tags" invisible="0"/>
                    <field name="owner" invisible="1"/>
                    <field name="start_date"/>
                    <field name="end_date"/>
                </xpath>
                <xpath expr="//field[@name='order_line']/tree/field[@name='product_id']" position="attributes">
                    <attribute name="string">Unit</attribute>
                </xpath>
                <xpath expr="//field[@name='order_line']/tree/control" position="replace">
                    <control>
                        <create name="add_product_control" string="Add a Unit"/>
                        <create name="add_section_control" string="Add a section"
                                context="{'default_display_type': 'line_section'}"/>
                        <create name="add_note_control" string="Add a note"
                                context="{'default_display_type': 'line_note'}"/>
                    </control>
                </xpath>

                <xpath expr="//field[@name='currency_id']" position="after">
                    <!-- Add your fields or attributes here -->
                    <field name="pay_method"/>
                    <field name="unit_state"/>
                    <field name="payment_method_select"/>
                </xpath>
                <xpath expr="//field[@name='payment_term_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='validity_date']" position="after">
                    <!-- Add your fields or attributes here -->
                    <field name="lessors_id"/>

                </xpath>
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="string">Tenant</attribute>
                </xpath>
                <xpath expr="//field[@name='validity_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_invoice_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_shipping_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//div[@name='button_box']" position="inside">
                    <!-- Add your fields or attributes here -->
                    <field name="exchange_id" invisible="1"/>
                    <button name="get_sales_exchange"
                            type="object"
                            class="oe_stat_button"
                            string="Sub Sales Order"
                            icon="fa-bars">
                    </button>
                </xpath>

            </field>
        </record>


        <record id="rental_details_tree_id" model="ir.ui.view">
            <field name="name">rental.details.tree</field>
            <field name="model">rental.details</field>
            <field name="arch" type="xml">
                <tree string="" editable="bottom" create="0">
                    <field name="name" readonly="1"/>
                    <field name="date" readonly="1"/>
                    <!--                    widget="remaining_days"/>-->
                    <field name="sale_id" readonly="1"/>
                    <field name="currency_id" readonly="1"/>
                    <field name="partner_id" readonly="1"/>
                    <field name="partner_balance" readonly="1"/>
                    <field name="product_id" readonly="1"/>
                    <field name="product_amount" readonly="1" sum="product_amount"/>
                    <field name="tax" readonly="1" sum="tax"/>
                    <field name="service" readonly="1" sum="service"/>
                    <field name="customer_due" sum="customer_due"/>
                    <field name="insurance" sum="insurance"/>
                    <field name="discount" sum="discount"/>
                    <field name="discount_reason"/>
                    <field name="net" sum="net"/>
                    <field name="currency_id" invisible="0"/>
                    <field name="net_local_currency" sum="net"/>
                    <field name="state"/>
                    <field name="reason"/>
                </tree>
            </field>
        </record>

        <record id="rental_details_form_id" model="ir.ui.view">
            <field name="name">rental.details.form</field>
            <field name="model">rental.details</field>
            <field name="arch" type="xml">
                <form string="">
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="date"/>
                                <field name="sale_id"/>
                                <field name="currency_id"/>
                                <field name="partner_id"/>
                                <field name="partner_balance"/>
                                <field name="product_id"/>
                                <field name="product_amount"/>
                                <field name="service"/>
                            </group>
                            <group>
                                <field name="customer_due"/>
                                <field name="discount"/>
                                <field name="discount_reason"/>
                                <field name="net"/>
                                <field name="state"/>
                                <field name="reason"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="rental_details_action_id" model="ir.actions.act_window">
            <field name="name">تقربر الايجارات</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">rental.details</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    <!-- Add Text Here -->
                </p>
                <p>
                    <!-- More details about what a user can do with this object will be OK -->
                </p>
            </field>
        </record>

        <!-- This Menu Item must have a parent and an action -->
        <menuitem id="rental_details_menu_id" name="Rental Report" parent="sale_renting.menu_rental_reporting"
                  action="rental_details_action_id" sequence="5"/>


        <record id="sale.product_template_action" model="ir.actions.act_window">
            <field name="name">Units</field>
        </record>
        <record id="sale_renting.rental_product_template_action" model="ir.actions.act_window">
            <field name="name">Units</field>
        </record>
        <record id="sale.product_menu_catalog" model="ir.ui.menu">
            <field name="name">Units</field>
        </record>
        <record id="sale.menu_product_template_action" model="ir.ui.menu">
            <field name="name">Units</field>
        </record>
        <record id="sale_renting.menu_rental_products" model="ir.ui.menu">
            <field name="name">Units</field>
        </record>
        <record id="sale_renting.menu_orders_customers" model="ir.ui.menu">
            <field name="name">Tenants</field>
        </record>


    </data>
</odoo>